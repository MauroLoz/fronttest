{% extends "layouts/main.html" %}
<!-- Extiende el archivo "main.html" como plantilla base -->

{% block content %}

{% load static %}
<link rel="stylesheet" type="text/css" href="{% static 'styles/css/verespacio.css' %}">

<div class="image-container" style="position: relative;">
    {% load static %}
    <img class="cover-image" src="{% static 'img/argentina-mina-clavero-cordoba-s.jpg' %}" alt="Test Image">
    <div class="text-overlay" style="position: absolute;">
      <h2 class="fw-bold" style="color: white; font-size: 50px; font-weight: 900;">{{espacio.titulo}}</h2>
    </div>
</div>

<div class="container my-5 d-flex flex-column justify-content-center content" style="background-color: white; width: 900px; height: 850px;">

    <div class="d-flex justify-content-between">
      <div style="width: 63%;">
        <div class="d-flex justify-content-start">
          <div class="d-flex justify-content-start">
            <div id="myCarousel" class="carousel slide" data-ride="carousel">
              <!-- Indicadores -->
              <ol class="carousel-indicators" style="display: none;">
                <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
                <li data-target="#myCarousel" data-slide-to="1"></li>
                <li data-target="#myCarousel" data-slide-to="2"></li>
              </ol>
              
              <!-- Slides -->
              <div class="carousel-inner" style="width: 550px; height: 360px;">
                <div class="carousel-item active">
                  <img src="{{espacio.image1.url}}" alt="Imagen 1" style="max-width: 100%; max-height: 100%;">
                </div>
                <div class="carousel-item">
                  <img src="{{espacio.image2.url}}" alt="Imagen 2" style="max-width: 100%; max-height: 100%;">
                </div>
                <div class="carousel-item">
                  <img src="{{espacio.image3.url}}" alt="Imagen 3" style="max-width: 100%; max-height: 100%;">
                </div>
              </div>
            
            <!-- Controles -->
            <a class="carousel-control-prev" href="#myCarousel" data-slide="prev" style="display: none;">
              <span class="carousel-control-prev-icon"></span>
            </a>
            <a class="carousel-control-next" href="#myCarousel" data-slide="next" style="display: none;">
              <span class="carousel-control-next-icon"></span>
            </a>
            </div>
          </div>
        </div>
        
        <!-- Miniaturas -->
        <div class="d-flex justify-content-start">
          <div class="d-flex justify-content-start" style="width: 100%;">
            <div class="row mt-3">
              <div class="col-4">
                <img src="{{espacio.image1.url}}" class="img-thumbnail" data-target="#myCarousel" data-slide-to="0">
              </div>
              <div class="col-4">
                <img src="{{espacio.image2.url}}" class="img-thumbnail" data-target="#myCarousel" data-slide-to="1">
              </div>
              <div class="col-4">
                <img src="{{espacio.image3.url}}" class="img-thumbnail" data-target="#myCarousel" data-slide-to="2">
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="d-flex justify-content-center align-items-center" style="width: 35%; border-left: 2px solid lightgray;">
        <div class="d-flex align-items-center flex-column justify-content-center" style="width: 80%; height: 80%;">
          <div class="d-flex mb-1">
            <div class="d-flex justify-content-center align-items-center" style="width: 20%; height: 42px; background-color: #f5f5f5; background-color: #111111;">
              {% load static %}
              <img class="img-fluid" src="{% static 'img/wifi (1).png' %}" style="width: 50%;">
            </div>
            <div class="d-flex align-items-center justify-content-start" style="width: 80%; height: 42px; background-color: #f5f5f5;">
              <p class="ml-3" style="font-weight: 600; font-size: 11px; margin: 0; color: #838383;">Wi-fi</p>
            </div>
          </div>
          <div class="d-flex mb-1">
            <div class="d-flex justify-content-center align-items-center" style="width: 20%; height: 42px; background-color: #f5f5f5; background-color: #111111;">
              {% load static %}
              <img class="img-fluid" src="{% static 'img/aparcamiento.png' %}" style="width: 50%;">
            </div>
            <div class="d-flex align-items-center justify-content-start" style="width: 80%; height: 42px; background-color: #f5f5f5;">
              <p class="ml-3" style="font-weight: 600; font-size: 11px; margin: 0; color: #838383;">Estacionamiento</p>
            </div>
          </div>
          <div class="d-flex mb-1">
            <div class="d-flex justify-content-center align-items-center" style="width: 20%; height: 42px; background-color: #f5f5f5; background-color: #111111;">
              {% load static %}
              <img class="img-fluid" src="{% static 'img/bano (1).png' %}" style="width: 50%;">
            </div>
            <div class="d-flex align-items-center justify-content-start" style="width: 80%; height: 42px; background-color: #f5f5f5;">
              <p class="ml-3" style="font-weight: 600; font-size: 11px; margin: 0; color: #838383;">Baño</p>
            </div>
          </div>
          <div class="d-flex mb-1">
            <div class="d-flex justify-content-center align-items-center" style="width: 20%; height: 42px; background-color: #f5f5f5; background-color: #111111;">
              {% load static %}
              <img class="img-fluid" src="{% static 'img/acondicionador-de-aire.png' %}" style="width: 50%;">
            </div>
            <div class="d-flex align-items-center justify-content-start" style="width: 80%; height: 42px; background-color: #f5f5f5;">
              <p class="ml-3" style="font-weight: 600; font-size: 11px; margin: 0; color: #838383;">Aire Acondicionado</p>
            </div>
          </div>
          <div class="d-flex mb-1">
            <div class="d-flex justify-content-center align-items-center" style="width: 20%; height: 42px; background-color: #f5f5f5; background-color: #111111;">
              {% load static %}
              <img class="img-fluid" src="{% static 'img/telefono.png' %}" style="width: 50%;">
            </div>
            <div class="d-flex align-items-center justify-content-start" style="width: 80%; height: 42px; background-color: #f5f5f5;">
              <p class="ml-3" style="font-weight: 600; font-size: 11px; margin: 0; color: #838383;">Telefono</p>
            </div>
          </div>
          <div class="d-flex mb-1">
            <div class="d-flex justify-content-center align-items-center" style="width: 20%; height: 42px; background-color: #f5f5f5; background-color: #111111;">
              {% load static %}
              <img class="img-fluid" src="{% static 'img/espejo (1).png' %}" style="width: 50%;">
            </div>
            <div class="d-flex align-items-center justify-content-start" style="width: 80%; height: 42px; background-color: #f5f5f5;">
              <p class="ml-3" style="font-weight: 600; font-size: 11px; margin: 0; color: #838383;">Espejo</p>
            </div>
          </div>
          <div class="d-flex mb-1">
            <div class="d-flex justify-content-center align-items-center" style="width: 20%; height: 42px; background-color: #f5f5f5; background-color: #111111;">
              {% load static %}
              <img class="img-fluid" src="{% static 'img/espejo (1).png' %}" style="width: 50%;">
            </div>
            <div class="d-flex align-items-center justify-content-start" style="width: 80%; height: 42px; background-color: #f5f5f5;">
              <p class="ml-3" style="font-weight: 600; font-size: 11px; margin: 0; color: #838383;">Apto Sonido</p>
            </div>
          </div>
          <div class="d-flex mb-1">
            <div class="d-flex justify-content-center align-items-center" style="width: 20%; height: 42px; background-color: #f5f5f5; background-color: #111111;">
              {% load static %}
              <img class="img-fluid" src="{% static 'img/espejo (1).png' %}" style="width: 50%;">
            </div>
            <div class="d-flex align-items-center justify-content-start" style="width: 80%; height: 42px; background-color: #f5f5f5;">
              <p class="ml-3" style="font-weight: 600; font-size: 11px; margin: 0; color: #838383;">Calefacción</p>
            </div>
          </div>
          <div class="d-flex mb-1">
            <div class="d-flex justify-content-center align-items-center" style="width: 20%; height: 42px; background-color: #f5f5f5; background-color: #111111;">
              {% load static %}
              <img class="img-fluid" src="{% static 'img/espejo (1).png' %}" style="width: 50%;">
            </div>
            <div class="d-flex align-items-center justify-content-start" style="width: 80%; height: 42px; background-color: #f5f5f5;">
              <p class="ml-3" style="font-weight: 600; font-size: 11px; margin: 0; color: #838383;">Mascotas</p>
            </div>
          </div>
          <div class="d-flex mb-1">
            <div class="d-flex justify-content-center align-items-center" style="width: 20%; height: 42px; background-color: #f5f5f5; background-color: #111111;">
              {% load static %}
              <img class="img-fluid" src="{% static 'img/espejo (1).png' %}" style="width: 50%;">
            </div>
            <div class="d-flex align-items-center justify-content-start" style="width: 80%; height: 42px; background-color: #f5f5f5;">
              <p class="ml-3" style="font-weight: 600; font-size: 11px; margin: 0; color: #838383;">Apto Fumadores</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  
      <div class="my-3 d-flex justify-content-between">
        <div class="d-flex flex-row" style="background-color: #f5f5f5; width: 26%;">
          <div class="d-flex justify-content-start align-items-start flex-column p-2" style="width: 50%; line-height: 150%; font-size: 14px;">
            
              <small>Cantidad:</small>
              <small>Precio:</small>
              <small>Metros cuadrados:</small>
              <small>item4:</small>
              <small>item5:</small>
              <small>item6:</small>
              <small>item7:</small>
              <small>item8:</small>
            
          </div>
          <div class="d-flex justify-content-end align-items-end flex-column p-2" style="width: 50%; line-height: 150%; font-size: 14px;">
              <small style="color: #838383;">20 personas</small>
              <small style="color: #838383;">$1500</small>
              <small style="color: #838383;">25 m/2</small>
              <small>item4:</small>
              <small>item5:</small>
              <small>item6:</small>
              <small>item7:</small>
              <small>item8:</small>
  
          </div>
        </div>
        
        <div class="p-3" style="background-color: #f5f5f5; width: 71%;">
          <div id="commentCarousel" class="carousel slide" data-ride="carousel">
            <div class="carousel-inner">
                {% for reseña in espacio.reseñareserva_set.all %}
                    <div class="carousel-item {% if forloop.first %}active{% endif %}">
                        <p style="font-size: 12px; font-style: italic; font-weight: 400; line-height: 1.8;">{{ reseña.text }}</p>
                        <div class="d-flex align-items-center">
                          <div style="background-color: white; height: 4rem; width: 4rem; border-radius: 50px;">
                            {% load static %}
                            <img class="rounded-circle" src="{% static 'img/defaultperfil.jpg' %}" alt="My image" style="width: 100%;"> 
                          </div>
                          <div class="d-flex flex-column mx-2">
                            <small style="font-size: 10px; font-weight: 600; color: black;">{{reseña.user.username}}</small>
                            <small style="font-size: 10px; font-weight: 600; color: #838383;">14 Reservas</small>
                          </div>
                        </div> 
                    </div>
                {% endfor %}
            </div>
            <a class="carousel-control-next" href="#commentCarousel" role="button" data-slide="next" style="width: 50px;  height: 50px;">
              <span class="carousel-control-next-icon" aria-hidden="true" style="color: black"></span>
              <span class="sr-only" style="color: black;">Next</span>
            </a>
  
        </div>
        </div>
      </div>
      <div>
        <h4 style="font-weight: 600; line-height: 1.2; font-size: 20px;">Acerca del espacio</h4>
        <p style="font-size: 10px; line-height: 1.8; color: #838383;">{{espacio.descripcion}}</p>
      </div>
      <div>
        <a class="btn" href="/" style="color: black !important;">Reservar</a>
        <a class="btn" onclick="redirectToPage('{{espacio.id}}')" style="color: black !important;">Agenda</a>
      </div>
    </div>

    <script>
      function redirectToPage(pageId) {
        window.location.href = "/calendar/" + pageId;
      }
    </script>

    <div id="footer" class="footer tema-claro-bg">
        <div class="contenedor-footer-1">
            <div class="contenedor-footer-2 mt-5">
                <div class="primeracol-footer">
                    <h4 id="texto4" class="tema-claro-font">Espaci.AR</h4>
                    <small id="texto5" class="tema-claro-font">Lorem ipsum dolor sit amet consectetur adipisicing elit. Accusamus animi alias</small>
                </div>
                <div class="segundacol-footer">
                    <div>
                        <small id="texto6" class="tema-claro-font"><i class="bi bi-telephone"></i>+1 (234) 567 89 10</small>
                    </div>
                    <div class="mt-2">
                        <small id="texto7" class="tema-claro-font"><i class="bi bi-envelope"></i>example@example.com</small>
                    </div>
                    <div class="footer-iconos mt-3">
                        <div class="contenedor-icono">
                            <i class="bi bi-twitter tema-claro-font"></i>
                        </div>
                        <div class="contenedor-icono ml-2">
                            <i class="bi bi-facebook tema-claro-font"></i>
                        </div>
                        <div class="contenedor-icono ml-2">
                            <i class="bi bi-instagram tema-claro-font"></i>
                        </div>
                    </div>
                </div>
                <div class="terceracol-footer">
                    <h4 id="texto8" class="tema-claro-font">Links rapidos</h4>
                    <a id="texto9" class="tema-claro-font" href="#">Inicio</a>
                    <a id="texto10" class="tema-claro-font" href="#">Mis Espacios</a>
                    <a id="texto11" class="tema-claro-font" href="#">Mis Reservas</a>
                    <a id="texto12" class="tema-claro-font" href="#">¿Quienes somos?</a>
                    <a id="texto13" class="tema-claro-font" href="#">Contactanos</a>
                </div>
                <div class="cuartacol-footer">
                    <h4 id="texto14" class="tema-claro-font">Servicios</h4>
                    <a id="texto15" class="tema-claro-font" href="#">Servicios</a>
                    <a id="texto16" class="tema-claro-font" href="#">Mis Servicios</a>
                    <a id="texto17" class="tema-claro-font" href="#">Mis Servicios</a>
                    <a id="texto18" class="tema-claro-font" href="#">Servicios Servicios?</a>
                    <a id="texto19" class="tema-claro-font" href="#">Servicios</a>
                </div>
            </div>
            <div class="copyright">
                <small id="texto20" class="tema-claro-font">© 2023 Copyright Espaci.AR</small>
            </div>
        </div>
      </div>
      
      
      <!-- Agrega los enlaces a los scripts de Bootstrap -->
      <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.1/dist/umd/popper.min.js"></script>
      <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

{% endblock %}